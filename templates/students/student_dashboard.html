<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Dashboard</title>
</head>
<body>

    <!-- Sidebar -->
    <div class="sidebar">
        <img src="{{ url_for('static', filename='images/logo.jpg') }}" alt="Summit Tech College" width="75" height="75">
        <h2>Welcome, {{ username }}</h2>
        <hr>
        <p>
            {{ student_profile.full_name }}
        </p> 
        <hr>
        <p>
            <strong>Admin no:</strong>
            {{ student_profile.admission_number }}
        </p>

        <p>
            <strong>Course:</strong>
            {{ student_profile.course.name }}
        </p>
        <p>
            <strong>Level:</strong>
            {{ student_profile.level }}
        </p>
        <p>
            <strong>Phone number:</strong>
            {{ student_profile.phone_number }}
        </p>
        <p>
            <strong>Exams:</strong>
            {{ student_profile.exam_type }}
        </p>
        <hr>

        <ol>
            <li><a href="{{ url_for('student_results')}}">Exam Results</a></li>
        </ol>
        <hr>
        <a href="{{ url_for('logout') }}">Logout</a>
    </div>

    <!-- Main Content -->
    <div class="main-content">
        <h1>Summit Technical College</h1>
        <hr>

        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
                {% for category, message in messages %}
                    <div class="alert alert-{{ category }}">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
        {% endwith %}

        <!-- Available Exams Section -->
        <div class="section-title">Available Exams</div>
        <table>
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Description</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for exam in quizzes %}
                <tr>
                    <td>{{ exam.title }}</td>
                    <td>{{ exam.description }}</td>
                    <td><a href="{{ url_for('take_exam', quiz_id=exam.id) }}">Take Exam</a></td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="3">No exams available at the moment.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <!-- Available Documents Section -->
        <div class="section-title">Available Documents</div>
        <table>
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Description</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for document in documents %}
                <tr>
                    <td>{{ document.title }}</td>
                    <td>{{ document.description }}</td>
                    <td><a href="{{ url_for('view_document', document_id=document.id) }}">View Document</a></td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="3">No documents available at the moment.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>

        <!-- Available Videos Section -->
        <div class="section-title">Available Videos</div>
        <table>
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Description</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>
                {% for video in videos %}
                <tr>
                    <td>{{ video.title }}</td>
                    <td>{{ video.description }}</td>
                    <td><a href="{{ url_for('watch_video', video_id=video.id) }}">Watch Video</a></td>
                </tr>
                {% else %}
                <tr>
                    <td colspan="3">No videos available at the moment.</td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>

    <!-- Footer -->
    <div class="footer">
        &copy; {{ current_year }} Summit Technical College. All rights reserved.
    </div>

</body>
</html>
